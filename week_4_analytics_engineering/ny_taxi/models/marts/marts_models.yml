version: 2

models:
  - name: dim_vendors
    description: "Dimension table containing all vendor details, mapped via macros."
    columns:
    - name: vendorid
      description: "Unique identifier for the taxi vendors."
      tests:
        - unique
        - not_null
    - name: vendor_name
      description: "Descriptive name of the vendor (e.g., Creative Tech)."

  - name: dim_zones
    description: "Dimension table containing all taxi zones information, boroughs and service zones."
    columns:
    - name: locationid
      description: "Zone unique identifier."
      tests:
      - unique
      - not_null
    - name: borough
      description: "Name of the borough containing the zone."
    - name: zone
      description: "Taxi zone name."
    - name: service_zone
      description: "Type of service zone (e.g., Yellow Zone, Boro Zone)"
    
  - name: fct_trips
    description: "Fact table that contains all trips data, joined with zones and vendor information."
    columns:
    - name: tripid
      description: "Unique identifier for a trip."
      tests:
      - unique
      - not_null
    - name: vendorid
      description: "Unique identifier for each vendor."
      tests:
      - unique
      - not_null
    - name: service_type
      description: "Describe the service types (e.g., Yellow or Green Taxi)."

    - name: ratecodeid
      description: "Determines the pricing rule applied, the final rate code effects at the end of the trip."

    - name: pickup_locationid
      description: "ID of the zone where the meter was engaged (formerly pulocationid)."

    - name: pickup_borough
      description: "Borough where the trip started."

    - name: pickup_zone
      description: "Zone where the trip started."

    - name: dropoff_locationid
      description: "ID of the zone where the meter was disengaged (formerly dolocationid)."

    - name: dropoff_borough
      description: "Borough where the trip ended."

    - name: dropoff_zone
      description: "Zone where the trip ended."

    - name: pickup_datetime
      description: "The date and time when the meter was engaged."

    - name: dropoff_datetime
      description: "The date and time when the meter was disengaged."

    - name: store_and_fwd_flag
      description: "Indicates whether the trip record was held in vehicle memory before sending to the vendor."

    - name: passenger_count
      description: "The number of passengers in the vehicle (driver-entered value)."

    - name: trip_distance
      description: "The elapsed trip distance in miles reported by the taximeter."

    - name: trip_type
      description: "A code indicating whether the trip was a street-hail or a dispatch."

    - name: fare_amount
      description: "The time-and-distance fare calculated by the meter."

    - name: extra
      description: "Miscellaneous extras and surcharges (e.g., rush hour and overnight charges)."

    - name: mta_tax
      description: "$0.50 MTA tax that is automatically triggered based on the metered rate in use."

    - name: tip_amount
      description: "Tip amount â€“ this field is automatically populated for credit card tips."

    - name: tolls_amount
      description: "Total amount of all tolls paid in trip."

    - name: ehail_fee
      description: "Electronic dispatch fee."

    - name: improvement_surcharge
      description: "$0.30 improvement surcharge assessed on hailed trips at the flag drop."

    - name: total_amount
      description: "The total amount charged to passengers. Does not include cash tips."

    - name: payment_type
      description: "A numeric code explaining how the passenger paid for the trip."

    - name: payment_type_descripted
      description: "Human-readable description of the payment type, generated via macro."

