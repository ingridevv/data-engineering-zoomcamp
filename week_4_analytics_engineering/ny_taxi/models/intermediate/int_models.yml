version: 2

models:
  - name: int_trips_unioned
    description: "An intermediate table that centralizes raw data from yellow and green trips, bringing a Single Source of Truth."
    columns:
      - name: tripid
        description: "Primary key generated via surrogate key (vendorid + pickup_datetime)."
        data_tests: 
        - unique
        - not_null

      - name: vendorid
        description: "The unique identifier for each vendor."

      - name: ratecodeid
        description: "Final rate code in effect at the end of the trip."

      - name: pickup_locationid
        description: "ID of the zone where the meter was engaged (formerly pulocationid)."

      - name: dropoff_locationid
        description: "ID of the zone where the meter was disengaged (formerly dolocationid)."

      - name: pickup_datetime
        description: "The date and time when the meter was engaged."

      - name: dropoff_datetime
        description: "The date and time when the meter was disengaged."

      - name: store_and_fwd_flag
        description: "Indicates whether the trip record was held in vehicle memory before sending to the vendor."

      - name: passenger_count
        description: "The number of passengers in the vehicle (driver-entered value)."

      - name: trip_distance
        description: "The elapsed trip distance in miles reported by the taximeter."

      - name: trip_type
        description: "A code indicating whether the trip was a street-hail or a dispatch."

      - name: fare_amount
        description: "The time-and-distance fare calculated by the meter."

      - name: extra
        description: "Miscellaneous extras and surcharges (e.g., rush hour and overnight charges)."

      - name: mta_tax
        description: "$0.50 MTA tax that is automatically triggered based on the metered rate in use."

      - name: tip_amount
        description: "Tip amount â€“ this field is automatically populated for credit card tips."

      - name: tolls_amount
        description: "Total amount of all tolls paid in trip."

      - name: ehail_fee
        description: "Electronic dispatch fee."

      - name: total_amount
        description: "The total amount charged to passengers. Does not include cash tips."

      - name: payment_type
        description: "A numeric code explaining how the passenger paid for the trip."

      - name: improvement_surcharge
        description: "$0.30 improvement surcharge assessed on hailed trips at the flag drop."

      - name: congestion_surcharge
        description: "Surcharge for trips starting or ending in the Manhattan congestion zone."

      - name: payment_type_descripted
        description: "Human-readable description of the payment type, generated via macro."